SAN FRANCISCO — Twitter sued the federal government on Thursday to block the unmasking of an anonymous account that has posted messages critical of the Trump administration and has claimed to have ties to a government agency.

The suit sets up a potential confrontation between the Trump administration and Twitter over digital privacy, a thorny issue that has driven a wedge between the technology industry and government in the past.

Twitter disclosed in a federal court filing on Thursday that it had received a summons directing it to reveal the identity or identities of those behind @ALT_USCIS, one of several so-called alt-accounts run by people purporting to be current or former federal employees. The @ALT_USCIS account, which quickly gained tens of thousands of followers, has frequently criticized the Trump administration’s immigration policies and enforcement actions.

Twitter said in its filing that it could not be compelled to disclose the identity or identities of whoever is behind the account. The company argued that the government’s directive and reasoning were unlawful, and that complying would have “a grave chilling effect” on the speech of alt-accounts that voice resistance to government policies.

“A time-honored tradition of pseudonymous free speech on matters of public moment runs deep in the political life of America,” Twitter said in its filing. “These First Amendment interests are at their zenith when, as here, the speech at issue touches on matters of public political life.”

Jenny Burke, a spokeswoman for Homeland Security Department, which, with Customs and Border Protection had issued the summons, declined to comment.

Even before this episode, previous presidential administrations have sought access the valuable digital information held by Facebook, Google, Twitter and other internet companies, in what some of the companies have said is an overreach of government power. Federal officials have typically said in such cases that they need the data at issue for national security or other reasons.

Last year, for example, Apple, the world’s most valuable public company, squared off against the Federal Bureau of Investigation in a contentious case involving issues of privacy and national security.

The F.B.I. asked Apple to unlock an iPhone that had been used by a gunman in a 2015 attack in San Bernardino, Calif., in which 14 people were fatally shot. Apple refused, citing its customers’ privacy concerns and the potential legal precedent. The F.B.I. dropped the matter after finding another way to open the iPhone without Apple’s help.

The new case involving Twitter is more straightforward than Apple’s standoff with the F.B.I., which required the creation of new technology to circumvent the iPhone’s encryption. The Twitter case is centered instead on the protection of free speech, which is critical to the social media company’s platform.

Twitter has a history of protecting its users’ First Amendment rights. In 2012, it filed an appeal in a New York State court to protect account information believed to have been used by an Occupy Wall Street protester. The company has also sued the federal government over rules related to whether it would be allowed to simply disclose requests for user data from federal agencies.

Mr. Trump himself is a well-known Twitter user, regularly sending out incendiary missives about the economy, politics and all manner of other topics from his @realDonaldTrump account.

On Thursday, the American Civil Liberties Union said it planned to represent the anonymous user or users behind @ALT_USCIS.

“To unmask an anonymous speaker online, the government must have a strong justification,” said Nathan Freed Wessler, an A.C.L.U. attorney involved in the case. “But in this case the government has given no reason at all, leading to concerns that it is simply trying to stifle dissent.”

The case stems from a wave of alternative government agency accounts that sprouted on Twitter after Mr. Trump’s inauguration. Upon being sworn into office, the president began to silence federal agencies from speaking out on the social media platform after the National Park Service’s official Twitter account posted side-by-side images comparing the size of the crowds at Mr. Trump’s inauguration “to the apparently larger crowd size at President Obama’s 2009 inauguration,” according to Twitter’s court filing.

In response, alternative accounts began to pop up, with many professing to be written by current or former employees of federal agencies. Accounts with handles like @Alt_Labor, @BadlandsNPS and @RogueEPAstaff had attracted tens of thousands of followers less than a week after Mr. Trump’s inauguration.

Many of the accounts have since posted messages in opposition to the Trump administration’s views. The @Alt_CDC account, for instance, once called the prospect of a “vaccine review committee” — an idea that Mr. Trump had discussed with others — a “serious threat to global public health.”

The @ALT_USCIS account, which was created in January, has repeatedly criticized the Trump administration’s immigration policies, among other topics. Messages posted by the account have referred to Mr. Trump’s executive order restricting travel to the United States by people from several mostly Muslim countries as the “#MuslimBan.”

The account has also described itself as “official inside resistance” and has said several times that the person or people using it to post messages is a current federal employee of Citizenship and Immigration Services, part of the Homeland Security Department. Twitter said in its court filing that about 19,000 employees and contractors work for Citizenship and Immigration Services.

In March, Customs and Border Protection sent Twitter a summons that ordered the company to hand over information about the @ALT_USCIS account, including the names, phone numbers, mailing addresses and internet protocol addresses of the account holder or holders.

The summons cited 19 U.S. Code 1509, a federal law that authorizes Customs and Border Protection to “obtain documents only for investigations and inquiries relating to the importation of merchandise.”

Twitter said the law was not relevant to the agency’s request and also that the summons violated the Stored Communications Act, which protects individuals’ privacy and proprietary interests.

As for @ALT_USCIS, the account was particularly active on Thursday, posting more than a dozen messages after Twitter’s suit against the government became public. The account, which added 32,000 followers within two months of being started, had ballooned to more than 77,000 followers by early in the evening.

Highlighted at the top of the account: a message featuring a screenshot of the Constitution and the First Amendment.|||

