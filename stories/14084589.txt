After working with Java 8 for the better part of a year, I have to say I find its new â€œFunctionalâ€ features both useful and aggravating at the same time. Â If youâ€™ve used true functional programming languages (or you use them on your own personal projects while being forced to use Java at work), youâ€™ll find yourself comparing each of Java 8â€™s new functional constructs with those in say Clojure, Scala, or Haskell, and youâ€™ll inevitably be dissapointed.

Case in point: Java 8 includes an â€œOptionalâ€ container which wants you to treat it like a monad. Â Now, I find it useful, but of course itâ€™s nowhere near as nice as Scalaâ€™s â€œoptionâ€ or Haskellâ€™s â€œmaybeâ€:

For example, at work I found myself having to refactor an older part of the code base. Â Attempting to think â€œFunctionallyâ€ I decomposed this block of fairly typical Java (simplified with class and variable names changed, of course) Â :

These two functions have the advantage of being easier to reason about and trivial to unit test individually. Â Java 8â€™s Optional monad eliminates the possibility for NullPointerExceptions,Â so there is no longer an excuse for the evil â€œ`return null;â€œ` when you can just as easily do â€œ`return Optional.empty();â€œ` ğŸ˜‰

Now, the bad parts: Â Optional inherits from Object. Â Thatâ€™s it. Â Itâ€™s really just a Java container class. Â Much nicer (and more useful) would have been a hierarchy of Monadic types (Either, an â€œExceptionâ€ monad, etc) all implementing a common Monad interface. Â But alas, no.

That said, this code is fairly functional, if ugly.Â  True functional programming languages make things like this easier to express (and easier to express elegantly).

Off the top of my head, in clojure you could do something like this:

Which I think everyone would agree is easier to read. Â Now, Iâ€™m making use of Monads here, which arenâ€™t really â€œbuilt-inâ€ to the language, but Clojure is extensible enough (macros, etc.) that adding them is easy. Â Personally, I rather like this library: http://funcool.github.io/cats/latest/. Â  So, if we assume our get-dtime-M and get-truck-M functions return â€œmaybeâ€ monads (which contain either a â€˜Just xâ€™ or a â€˜Nothingâ€™), we get the same advantage as Java 8â€™s Optionals (no null checks littering our code). Â We can also wait to evaluate the value of our Maybe monads till the end of our processing (The cat-maybes function does that, pulling only the â€˜Justâ€™ values from our array of Maybe monads generated by the map function).

In addition to Maybe, The cats library exposes many other useful monadic types (and you can create your own as well) which have no Java 8 counterpart.

Of course, If you really want to explore the full power of Monads, Iâ€™d suggest learning some Haskell â€” then come back to Clojure (or Scala, I suppose) when you need to write some real-world software ğŸ™‚|||

After working with Java 8 for the better part of a year, I have to say I find its new "Functional" features both useful and aggravating at the same time. Â If you've used true functional programming languages (or you use them on your own personal projects while being forced to use Java at work), you'llâ€¦